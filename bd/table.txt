
DROP TABLE IF EXISTS `reservation`;
DROP TABLE IF EXISTS `horaire`;
DROP TABLE IF EXISTS `utilisateur`;
DROP TABLE IF EXISTS `salles`;
DROP TABLE IF EXISTS `creneau`;

--  table utilisateur---------------- 

CREATE TABLE utilisateur (
            id          int             primary key 	not null,
            login       varchar(255)    		not null   	,
            password    varchar(255)    		not null    ,
            role        varchar(8)      		not null     
    );


--  table salles ---------------- 

CREATE TABLE salles (
            id          int             primary key 	not null,
            numero      int			    	not null   	,
            nb_place    int			    	not null      
    );


--  table creneau ---------------- 

CREATE TABLE creneau (
            id          int             primary key 	not null,
            heure_d     varchar(10)			not null,
            heure_f     varchar(10)			not null
    );


--  table horaire---------------- 

CREATE TABLE horaire (
            id          int           	not null,
    	    idSalle	int		not null,
            date     	DATE	   	not null,
    	    creneau1	int 		not null,
    	    creneau2	int 		not null,
    	    creneau3	int 		not null,
    	    creneau4	int 		not null,
    	    PRIMARY KEY(id) ,
    	    FOREIGN KEY(idSalle) REFERENCES salles(id)
    );

--  table reservation---------------- 

CREATE TABLE reservation (
            id          	int           	not null,
    	    idUtilisateur	INT		not null,
    	    idHoraire		INT		not null,
    	    idCreneau		INT		not null,
    	    PRIMARY KEY(id) ,
    	    FOREIGN KEY(idUtilisateur) REFERENCES utilisateur(id) ,
            FOREIGN KEY(idHoraire) REFERENCES horaire(id),
            FOREIGN KEY(idCreneau) REFERENCES creneau(id)
    );
